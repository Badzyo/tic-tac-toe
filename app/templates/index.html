{% extends "base.html" %}
{% from "macros/macros.html" import render_logout_button %}
{% from "macros/macros.html" import render_game_list %}

{% block content %}
    <div class="main-block row col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-3 col-xs-12">
        <h3>Hello, {{ current_user.username }}!</h3>
        <p>
            <a href="{{ url_for('new_game') }}" class="btn btn-default">Create new game</a>
        </p>
        <div class="panel panel-default">
            <div class="panel-body">
                <div>
                    <span>Active games:</span>
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#games-in-progress" aria-controls="games-wait" role="tab" data-toggle="tab">
                                In progress
                            </a>
                        </li>
                        <li role="presentation">
                            <a href="#games-wait" aria-controls="games-in-progress" role="tab" data-toggle="tab">
                                Waiting for opponent
                            </a>
                        </li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane" id="games-wait">
                            {{ render_game_list(games_in_wait) }}
                        </div>
                        <div role="tabpanel" class="tab-pane active" id="games-in-progress">
                            {{ render_game_list(games_in_progress) }}
                        </div>
                    </div>
                </div>
                {{ render_logout_button() }}
            </div>
        </div>
    </div>
{% endblock %}